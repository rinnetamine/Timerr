<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Profile - Timerr</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="media/favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <h1>Timerr</h1>
        <nav>
            <ul id="pc-only">
                <li><a href="home.html">Browse</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li class="dropdown">
                    <a href="services.html" class="drop">Services â®Ÿ</a>
                    <ul class="dropdown-content"> 
                        <li><a href="list.html">List</a></li>
                        <li><a href="request.html">Request</a></li>
                        <li><a href="offer.html">Offer</a></li>
                    </ul>
                </li>
                <li><a href="#" id="logoutBtn" onclick="logout()">Logout</a></li>
                <li><a id="dark-mode-button" onclick="dark_mode()">Dark mode</a></li>
            </ul>
        </nav>

    <ul id="mobile-only">
        <div id="hamburger" onclick="toggleMenu()">&times;</div>
        <li><a href="home.html">Browse</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li>
            <a href="services.html">Services</a>
            <ul class="service-submenu">
                <li><a href="list.html">List</a></li>
                <li><a href="request.html">Request</a></li>
                <li><a href="offer.html">Offer</a></li>
            </ul>
        </li>
        <a href="#" id="logoutBtn" onclick="logout()">Logout</a></li>
        <li><a id="dark-mode-button" onclick="dark_mode()">Dark mode</a></li>
    </ul>
</nav>
</header>

        <!-- profile info -->
    <main>
        <section class="profile-container">
            <h2>Welcome, <span id="usernameDisplay">User</span>!</h2>
            <div class="profile-card">
                <img id="profilePicture" src="media/default_profile.png" alt="PLACEHOLDER.PNG">
                <h3>Username: <span id="usernameProfile">User</span></h3>
                <p>Time Credits: <span id="timeCredits">PLACEHOLDER</span></p>
                <button class="logout-button" onclick="logout()">Logout</button>
            </div>
        </section>
    </main>

    <script>
        function dark_mode() {
            document.body.classList.toggle("dark-mode");
        }

        // display user info on load
        document.addEventListener("DOMContentLoaded", function() {
            const loggedInUser = localStorage.getItem('username');

            if (loggedInUser) {
                document.getElementById("usernameDisplay").innerText = loggedInUser;
                document.getElementById("usernameProfile").innerText = loggedInUser;
                document.getElementById("timeCredits").innerText = "PLACEHOLDER"; // Default 100 credits
            } else {
                // if no username found redirect to main
                window.location.href = "about.html"; 
            }
        });

        // logout clears localStorage and redirect
        function logout() {
            localStorage.removeItem('username');
            localStorage.removeItem('loggedIn'); 
            window.location.href = "about.html";
        }
    </script>
</body>
</html>
